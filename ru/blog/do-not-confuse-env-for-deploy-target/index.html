<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    
<meta name="lolma-us/config/environment" content="%7B%22modulePrefix%22%3A%22lolma-us%22%2C%22podModulePrefix%22%3A%22lolma-us/pods%22%2C%22environment%22%3A%22production%22%2C%22rootURL%22%3A%22/%22%2C%22locationType%22%3A%22auto%22%2C%22envVars%22%3A%7B%22LMS_GITHUB_CLIENT_ID%22%3A%224da52fd7973591d437ea%22%2C%22LMS_ROLLBAR_CLIENT_ID%22%3A%224c6c03ad77a74b16bc4bb6a7b4726bde%22%2C%22LMS_HOST%22%3A%22https%3A//lolma.us%22%2C%22LMS_GATEKEEPER_URL%22%3A%22https%3A//lolma-us-prod.herokuapp.com%22%7D%2C%22EmberENV%22%3A%7B%22FEATURES%22%3A%7B%7D%2C%22EXTEND_PROTOTYPES%22%3A%7B%22Date%22%3Afalse%7D%7D%2C%22APP%22%3A%7B%22name%22%3A%22lolma-us%22%2C%22version%22%3A%220.0.0+1b57ddef%22%7D%2C%22emberRollbarClient%22%3A%7B%22enabled%22%3Atrue%2C%22accessToken%22%3A%224c6c03ad77a74b16bc4bb6a7b4726bde%22%2C%22verbose%22%3Atrue%2C%22captureUncaught%22%3Atrue%2C%22captureUnhandledRejections%22%3Atrue%2C%22payload%22%3A%7B%22environment%22%3A%22production%22%2C%22client%22%3A%7B%22javascript%22%3A%7B%22source_map_enabled%22%3Atrue%2C%22code_version%22%3A%220.0.0+1b57dde%22%2C%22guess_uncaught_frames%22%3Atrue%7D%7D%7D%7D%2C%22i18n%22%3A%7B%22defaultLocale%22%3A%22en%22%7D%2C%22fastboot%22%3A%7B%22hostWhitelist%22%3A%5B%22/%22%2C%22http%3A//127.0.0.1%3A8081%22%5D%7D%2C%22torii%22%3A%7B%22providers%22%3A%7B%22github-oauth2%22%3A%7B%22apiKey%22%3A%224da52fd7973591d437ea%22%2C%22scope%22%3A%22public_repo%22%7D%7D%7D%2C%22moment%22%3A%7B%22includeLocales%22%3A%5B%22ru%22%5D%7D%2C%22metricsAdapters%22%3A%5B%7B%22name%22%3A%22GoogleAnalytics%22%2C%22environments%22%3A%5B%22development%22%2C%22production%22%5D%2C%22config%22%3A%7B%22id%22%3A%22UA-77566978-1%22%2C%22sendHitTask%22%3Atrue%7D%7D%5D%2C%22disqus%22%3A%7B%22shortname%22%3A%22lolmaus%22%7D%2C%22LMS_GITHUB_CLIENT_ID%22%3A%224da52fd7973591d437ea%22%2C%22LMS_ROLLBAR_CLIENT_ID%22%3A%224c6c03ad77a74b16bc4bb6a7b4726bde%22%2C%22LMS_HOST%22%3A%22https%3A//lolma.us%22%2C%22LMS_GATEKEEPER_URL%22%3A%22https%3A//lolma-us-prod.herokuapp.com%22%2C%22exportApplicationGlobal%22%3Afalse%7D" />
<!-- EMBER_CLI_FASTBOOT_TITLE -->  <meta name="ember-cli-head-start">
<title>–ù–µ –ø—É—Ç–∞–π—Ç–µ environment —Å deploy target | –ë–ª–æ–≥ | –ê–Ω–¥—Ä–µ–π –ú–∏—Ö–∞–π–ª–æ–≤ (lolmaus)</title>
<meta property="og:title" content="–ù–µ –ø—É—Ç–∞–π—Ç–µ environment —Å deploy target">

<!---->
  <meta property="og:locale" content="ru">
  <link rel="alternate" type="application/rss+xml" href="https://lolma.us/rss_ru.xml">

  <meta property="og:description" content="–£ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ —Ñ—Ä—ç–π–º–≤–æ—Ä–∫–æ–≤ –µ—Å—Ç—å –ø–æ–Ω—è—Ç–∏–µ *environment*. –ú–Ω–æ–≥–∏–µ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø—Ä–∏–≤—è–∑—ã–≤–∞—é—Ç –∫ environment –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è, —á—Ç–æ –Ω–µ–≤–µ—Ä–Ω–æ.">

<meta property="og:image" content="https://lolma.us/favicon.jpg">

<meta property="og:type" content="article">

  <link rel="canonical" href="https://lolma.us/ru/blog/do-not-confuse-env-for-deploy-target/">
  <meta property="og:url" content="https://lolma.us/ru/blog/do-not-confuse-env-for-deploy-target/">
  <meta property="article:published_time" content="2017-02-18T00:00:00.000Z">
  <meta property="article:author" content="https://lolma.us/ru/">

    <meta property="article:modified_time" content="2017-12-24T00:00:00.000Z">

<!---->
  <script type="application/ld+json">{"@context":"http://schema.org","@graph":[{"@type":"WebSite","image":"https://lolma.us/favicon.jpg","author":{"@type":"Person","name":"Andrey Mikhaylov","givenName":"Andrey","familyName":"Mikhaylov","additionalName":"lolmaus","email":"mailto:lolmaus@gmail.com","image":"https://lolma.us/favicon.jpg","address":{"@type":"PostalAddress","addressCountry":"Russia","addressLocality":"Moscow","availableLanguage":{"@type":"Language","name":["Russian"]}},"brand":{"@type":"Brand","name":"Helix TeamHub","logo":"https://lolma.us/images/linked-data/helix-teamhub-logo-0fe238b12e2dddfd8954425c9c94236a.png","url":"https://www.perforce.com/products/helix-teamhub","description":"Code Hosting and Collaboration for Git+"},"homeLocation":{"@type":"Place","address":{"@type":"PostalAddress","addressCountry":"Russia","addressLocality":"Moscow","availableLanguage":{"@type":"Language","name":["Russian"]}}},"jobTitle":["Frontend developer","EmberJS developer"],"memberOf":{"@type":"Organization","logo":"https://lolma.us/images/linked-data/perforce-logo.png","url":"https://www.perforce.com/","name":"Perforce","brand":[{"@type":"Brand","name":"Helix Core","logo":"https://lolma.us/images/linked-data/helix-core-logo-8c5164957fa78647968b2db6e0893567.png","url":"https://www.perforce.com/products/helix-core","description":"Version Control + Swarm Code Review &amp; Collaboration"},{"@type":"Brand","name":"Hansoft","logo":"https://lolma.us/images/linked-data/hansoft-logo-7658d48e82acda65c2106b2eba082e57.png","url":"https://hansoft.com/","description":"Agile Project &amp; Product Management Solution"},{"@type":"Brand","name":"Helix TeamHub","logo":"https://lolma.us/images/linked-data/helix-teamhub-logo-0fe238b12e2dddfd8954425c9c94236a.png","url":"https://www.perforce.com/products/helix-teamhub","description":"Code Hosting and Collaboration for Git+"},{"@type":"Brand","name":"Helix ALM","logo":"https://lolma.us/images/linked-data/helix-alm-logo-9b37cab7b9b913e82c6b38a99f43a4e2.png","url":"https://www.perforce.com/products/helix-alm","description":"Flexible, End-to-End Application Lifecycle Management"}]},"nationality":{"@type":"Country","name":"Russia","alternateName":"Russian Federation"}},"accessMode":"textual","inLanguage":"ru","audience":{"@type":"Audience","audienceType":["developers","web developers","javascript developers","js developers","ember developers","emberjs developers"]},"license":{"@type":"CreativeWork","name":"Creative Commons Attribution 4.0 International","alternateName":"CC BY 4.0","url":"https://creativecommons.org/licenses/by/4.0/","description":"You are free to: Share ‚Äî copy and redistribute the material in any medium or format; Adapt ‚Äî remix, transform, and build upon the material for any purpose, even commercially). This license is acceptable for Free Cultural Works. The licensor cannot revoke these freedoms as long as you follow the license terms. Under the following terms: Attribution ‚Äî You must give appropriate credit, provide a link to the license, and indicate if changes were made. You may do so in any reasonable manner, but not in any way that suggests the licensor endorses you or your use. No additional restrictions ‚Äî You may not apply legal terms or technological measures that legally restrict others from doing anything the license permits."}},{"@type":"Blog","author":{"@type":"Person","name":"Andrey Mikhaylov","givenName":"Andrey","familyName":"Mikhaylov","additionalName":"lolmaus","email":"mailto:lolmaus@gmail.com","image":"https://lolma.us/favicon.jpg","address":{"@type":"PostalAddress","addressCountry":"Russia","addressLocality":"Moscow","availableLanguage":{"@type":"Language","name":["Russian"]}},"brand":{"@type":"Brand","name":"Helix TeamHub","logo":"https://lolma.us/images/linked-data/helix-teamhub-logo-0fe238b12e2dddfd8954425c9c94236a.png","url":"https://www.perforce.com/products/helix-teamhub","description":"Code Hosting and Collaboration for Git+"},"homeLocation":{"@type":"Place","address":{"@type":"PostalAddress","addressCountry":"Russia","addressLocality":"Moscow","availableLanguage":{"@type":"Language","name":["Russian"]}}},"jobTitle":["Frontend developer","EmberJS developer"],"memberOf":{"@type":"Organization","logo":"https://lolma.us/images/linked-data/perforce-logo.png","url":"https://www.perforce.com/","name":"Perforce","brand":[{"@type":"Brand","name":"Helix Core","logo":"https://lolma.us/images/linked-data/helix-core-logo-8c5164957fa78647968b2db6e0893567.png","url":"https://www.perforce.com/products/helix-core","description":"Version Control + Swarm Code Review &amp; Collaboration"},{"@type":"Brand","name":"Hansoft","logo":"https://lolma.us/images/linked-data/hansoft-logo-7658d48e82acda65c2106b2eba082e57.png","url":"https://hansoft.com/","description":"Agile Project &amp; Product Management Solution"},{"@type":"Brand","name":"Helix TeamHub","logo":"https://lolma.us/images/linked-data/helix-teamhub-logo-0fe238b12e2dddfd8954425c9c94236a.png","url":"https://www.perforce.com/products/helix-teamhub","description":"Code Hosting and Collaboration for Git+"},{"@type":"Brand","name":"Helix ALM","logo":"https://lolma.us/images/linked-data/helix-alm-logo-9b37cab7b9b913e82c6b38a99f43a4e2.png","url":"https://www.perforce.com/products/helix-alm","description":"Flexible, End-to-End Application Lifecycle Management"}]},"nationality":{"@type":"Country","name":"Russia","alternateName":"Russian Federation"}},"accessMode":"textual","inLanguage":"ru","audience":{"@type":"Audience","audienceType":["developers","web developers","javascript developers","js developers","ember developers","emberjs developers"]},"license":{"@type":"CreativeWork","name":"Creative Commons Attribution 4.0 International","alternateName":"CC BY 4.0","url":"https://creativecommons.org/licenses/by/4.0/","description":"You are free to: Share ‚Äî copy and redistribute the material in any medium or format; Adapt ‚Äî remix, transform, and build upon the material for any purpose, even commercially). This license is acceptable for Free Cultural Works. The licensor cannot revoke these freedoms as long as you follow the license terms. Under the following terms: Attribution ‚Äî You must give appropriate credit, provide a link to the license, and indicate if changes were made. You may do so in any reasonable manner, but not in any way that suggests the licensor endorses you or your use. No additional restrictions ‚Äî You may not apply legal terms or technological measures that legally restrict others from doing anything the license permits."},"name":"–ë–ª–æ–≥ –ê–Ω–¥—Ä–µ—è –ú–∏—Ö–∞–π–ª–æ–≤–∞ (lolmaus)","description":"–ó–∞–º–µ—Ç–∫–∏ –æ –≤—ç–±-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ, –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –æ JavaScript –∏ EmberJS","url":"https://lolma.us/ru/blog/","keywords":["development","web development","webdev","ember","emberjs","js","javascript","frontend"]},{"@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"https://lolma.us/ru/blog/","name":"–ë–ª–æ–≥"}},{"@type":"ListItem","position":2,"item":{"@id":"https://lolma.us/ru/blog/do-not-confuse-env-for-deploy-target/","name":"–ù–µ –ø—É—Ç–∞–π—Ç–µ environment —Å deploy target"}}]},{"@type":"TechArticle","author":{"@type":"Person","name":"Andrey Mikhaylov","givenName":"Andrey","familyName":"Mikhaylov","additionalName":"lolmaus","email":"mailto:lolmaus@gmail.com","image":"https://lolma.us/favicon.jpg","address":{"@type":"PostalAddress","addressCountry":"Russia","addressLocality":"Moscow","availableLanguage":{"@type":"Language","name":["Russian"]}},"brand":{"@type":"Brand","name":"Helix TeamHub","logo":"https://lolma.us/images/linked-data/helix-teamhub-logo-0fe238b12e2dddfd8954425c9c94236a.png","url":"https://www.perforce.com/products/helix-teamhub","description":"Code Hosting and Collaboration for Git+"},"homeLocation":{"@type":"Place","address":{"@type":"PostalAddress","addressCountry":"Russia","addressLocality":"Moscow","availableLanguage":{"@type":"Language","name":["Russian"]}}},"jobTitle":["Frontend developer","EmberJS developer"],"memberOf":{"@type":"Organization","logo":"https://lolma.us/images/linked-data/perforce-logo.png","url":"https://www.perforce.com/","name":"Perforce","brand":[{"@type":"Brand","name":"Helix Core","logo":"https://lolma.us/images/linked-data/helix-core-logo-8c5164957fa78647968b2db6e0893567.png","url":"https://www.perforce.com/products/helix-core","description":"Version Control + Swarm Code Review &amp; Collaboration"},{"@type":"Brand","name":"Hansoft","logo":"https://lolma.us/images/linked-data/hansoft-logo-7658d48e82acda65c2106b2eba082e57.png","url":"https://hansoft.com/","description":"Agile Project &amp; Product Management Solution"},{"@type":"Brand","name":"Helix TeamHub","logo":"https://lolma.us/images/linked-data/helix-teamhub-logo-0fe238b12e2dddfd8954425c9c94236a.png","url":"https://www.perforce.com/products/helix-teamhub","description":"Code Hosting and Collaboration for Git+"},{"@type":"Brand","name":"Helix ALM","logo":"https://lolma.us/images/linked-data/helix-alm-logo-9b37cab7b9b913e82c6b38a99f43a4e2.png","url":"https://www.perforce.com/products/helix-alm","description":"Flexible, End-to-End Application Lifecycle Management"}]},"nationality":{"@type":"Country","name":"Russia","alternateName":"Russian Federation"}},"accessMode":"textual","inLanguage":"ru","audience":{"@type":"Audience","audienceType":["developers","web developers","javascript developers","js developers","ember developers","emberjs developers"]},"license":{"@type":"CreativeWork","name":"Creative Commons Attribution 4.0 International","alternateName":"CC BY 4.0","url":"https://creativecommons.org/licenses/by/4.0/","description":"You are free to: Share ‚Äî copy and redistribute the material in any medium or format; Adapt ‚Äî remix, transform, and build upon the material for any purpose, even commercially). This license is acceptable for Free Cultural Works. The licensor cannot revoke these freedoms as long as you follow the license terms. Under the following terms: Attribution ‚Äî You must give appropriate credit, provide a link to the license, and indicate if changes were made. You may do so in any reasonable manner, but not in any way that suggests the licensor endorses you or your use. No additional restrictions ‚Äî You may not apply legal terms or technological measures that legally restrict others from doing anything the license permits."},"headline":"–ù–µ –ø—É—Ç–∞–π—Ç–µ environment —Å deploy target","description":"–£ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ —Ñ—Ä—ç–π–º–≤–æ—Ä–∫–æ–≤ –µ—Å—Ç—å –ø–æ–Ω—è—Ç–∏–µ *environment*. –ú–Ω–æ–≥–∏–µ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø—Ä–∏–≤—è–∑—ã–≤–∞—é—Ç –∫ environment –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è, —á—Ç–æ –Ω–µ–≤–µ—Ä–Ω–æ.","image":"https://lolma.us/favicon.jpg","datePublished":"2017-02-18T00:00:00.000Z","dateModified":"2017-12-24T00:00:00.000Z","proficiency":"beginner","mainEntityOfPage":{"@type":"WebPage","@id":"https://lolma.us/ru/blog/do-not-confuse-env-for-deploy-target/"}}]}</script>
<meta name="ember-cli-head-end">


    <link integrity="" rel="stylesheet" href="/assets/vendor-10c46aeeb15514da80ccb4d3f41b4526.css">
    <link integrity="" rel="stylesheet" href="/assets/lolma-us-7bea756b2ad871bcdb1fb19ad6ecdba3.css">
    <link href="https://fonts.googleapis.com/css?family=PT+Sans+Caption|Merriweather:400,400i,700&amp;subset=cyrillic" rel="stylesheet">

    
  <link rel="yandex-tableau-widget" href="/yandex-browser-manifest.json">
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="/apple-touch-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="/apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon-180x180.png">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="apple-mobile-web-app-title">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="shortcut icon" href="/favicon.ico">
<link rel="icon" type="image/png" sizes="228x228" href="/coast-228x228.png">
<link rel="manifest" href="/manifest.json">
<meta name="mobile-web-app-capable" content="yes">
<meta name="theme-color" content="#fff">
<meta name="application-name">
<meta name="msapplication-TileColor" content="#fff">
<meta name="msapplication-TileImage" content="/mstile-144x144.png">
<meta name="msapplication-config" content="/browserconfig.xml">
<link rel="apple-touch-startup-image" media="(device-width: 320px) and (device-height: 480px) and (-webkit-device-pixel-ratio: 1)" href="/apple-touch-startup-image-320x460.png">
<link rel="apple-touch-startup-image" media="(device-width: 320px) and (device-height: 480px) and (-webkit-device-pixel-ratio: 2)" href="/apple-touch-startup-image-640x920.png">
<link rel="apple-touch-startup-image" media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2)" href="/apple-touch-startup-image-640x1096.png">
<link rel="apple-touch-startup-image" media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2)" href="/apple-touch-startup-image-750x1294.png">
<link rel="apple-touch-startup-image" media="(device-width: 414px) and (device-height: 736px) and (orientation: landscape) and (-webkit-device-pixel-ratio: 3)" href="/apple-touch-startup-image-1182x2208.png">
<link rel="apple-touch-startup-image" media="(device-width: 414px) and (device-height: 736px) and (orientation: portrait) and (-webkit-device-pixel-ratio: 3)" href="/apple-touch-startup-image-1242x2148.png">
<link rel="apple-touch-startup-image" media="(device-width: 768px) and (device-height: 1024px) and (orientation: landscape) and (-webkit-device-pixel-ratio: 1)" href="/apple-touch-startup-image-748x1024.png">
<link rel="apple-touch-startup-image" media="(device-width: 768px) and (device-height: 1024px) and (orientation: portrait) and (-webkit-device-pixel-ratio: 1)" href="/apple-touch-startup-image-768x1004.png">
<link rel="apple-touch-startup-image" media="(device-width: 768px) and (device-height: 1024px) and (orientation: landscape) and (-webkit-device-pixel-ratio: 2)" href="/apple-touch-startup-image-1496x2048.png">
<link rel="apple-touch-startup-image" media="(device-width: 768px) and (device-height: 1024px) and (orientation: portrait) and (-webkit-device-pixel-ratio: 2)" href="/apple-touch-startup-image-1536x2008.png">
</head>
  <body>
    <div id="ember2562" class="ember-view"><!---->

<div class="route-locale">

  <input type="checkbox" id="route-locale-menuToggler" class="route-locale-menuToggler ember-checkbox ember-view">

  <label for="route-locale-menuToggler" class="route-locale-burger">
    <svg height="25" viewBox="0 0 25 25" width="25" xmlns="http://www.w3.org/2000/svg" class="route-locale-burger-icon"><title/><path d="M0 2h25v4H0V2zm0 8h25v4H0v-4zm0 8h25v4H0v-4z" fill="#000" fill-rule="evenodd"/></svg>
  </label>

  <label for="route-locale-menuToggler" class="route-locale-backdrop"></label>



  <div id="ember2566" class="route-locale-menu sideMenu ember-view"><div class="route-locale-menu-greeting">
  –¢—ã —Å–µ–≥–æ–¥–Ω—è –ª—É—á—à–µ –≤—Å–µ—Ö!
  <span class="route-locale-menu-greeting-emoji">üòé</span>
</div>

<div class="route-locale-menu-items">
<!---->
    <a href="/ru" id="ember2571" class="route-locale-menu-item _resume ember-view">–†–µ–∑—é–º–µ</a>

  <a href="https://github.com/lolmaus/lolma.us" class="route-locale-menu-item _source -no-icon">
    –ò—Å—Ö–æ–¥–Ω–∏–∫ –Ω–∞¬†GitHub
    <span class="externalLink"></span>
  </a>

<a href="/en/blog/do-not-confuse-env-for-deploy-target" id="ember2580" class="route-locale-menu-item _locale ember-view">    Switch to¬†English
</a></div></div>



  <div class="route-locale-content">
    <div class="route-blog">


<div id="ember2586" class="secTion ember-view"><div class="secTion-inner ">
      <div class="route-blog-sidebar">
      <div class="route-blog-sidebar-section _avatar">
        <img src="/favicon.jpg" alt="–ê–Ω–¥—Ä–µ–π –ú–∏—Ö–∞–π–ª–æ–≤" width="512" height="512" class="route-blog-sidebar-avatar">
      </div>

      <div class="route-blog-sidebar-section _content">
        <h2 class="route-blog-title">
          –ê–Ω–¥—Ä–µ–π –ú–∏—Ö–∞–π–ª–æ–≤
          @lolmaus
        </h2>

        <div class="route-blog-subtitle">
          —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥&#8209;—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫, EmberJS&#8209;—ç–Ω—Ç—É–∑–∏–∞—Å—Ç
        </div>

        <div id="ember2599" class="route-blogIndex-menu horizontalMenu ember-view"><div class="horizontalMenu-item _blog">
  <a href="/ru/blog" id="ember2600" class="horizontalMenu-item-link active ember-view">–ë–ª–æ–≥</a>
</div>


<div class="horizontalMenu-item _resume">
  <a href="/ru" id="ember2605" class="horizontalMenu-item-link ember-view">–†–µ–∑—é–º–µ</a>
</div>


<div class="horizontalMenu-item _source">
  <a href="https://github.com/lolmaus/lolma.us" class="horizontalMenu-item-link -no-icon -has-inner">
    <span class="horizontalMenu-item-link-inner">–ò—Å—Ö–æ–¥–Ω–∏–∫ –Ω–∞¬†GitHub</span><span class="externalLink"></span>
  </a>
</div>


<div class="horizontalMenu-item _locale">
<a href="/en/blog/do-not-confuse-env-for-deploy-target" id="ember2614" class="horizontalMenu-item-link ember-view">    Switch to¬†English
</a></div></div>
      </div>
      
      <div class="route-blog-sidebar-section _bottom">

        <a href="https://creativecommons.org/licenses/by/4.0/" class="route-blog-sidebar-section-bottom-link -no-icon">
          <svg version="1" xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="5.5 -3.5 64 64" class="route-blog-sidebar-section-bottom-icon _cc" alt="–õ–∏—Ü–µ–Ω–∑–∏—è Creative Commons 4.0 Attribution" title="–õ–∏—Ü–µ–Ω–∑–∏—è Creative Commons 4.0 Attribution"><circle fill="#FFF" cx="37.637" cy="28.806" r="28.276"/><path d="M37.443-3.5c8.988 0 16.57 3.085 22.742 9.257C66.393 11.967 69.5 19.548 69.5 28.5c0 8.991-3.049 16.476-9.145 22.456-6.476 6.363-14.113 9.544-22.912 9.544-8.649 0-16.153-3.144-22.514-9.43C8.644 44.784 5.5 37.262 5.5 28.5c0-8.761 3.144-16.342 9.429-22.742C21.101-.415 28.604-3.5 37.443-3.5zm.114 5.772c-7.276 0-13.428 2.553-18.457 7.657-5.22 5.334-7.829 11.525-7.829 18.572 0 7.086 2.59 13.22 7.77 18.398 5.181 5.182 11.352 7.771 18.514 7.771 7.123 0 13.334-2.607 18.629-7.828 5.029-4.838 7.543-10.952 7.543-18.343 0-7.276-2.553-13.465-7.656-18.571-5.104-5.104-11.276-7.656-18.514-7.656zm8.572 18.285v13.085h-3.656v15.542h-9.944V33.643h-3.656V20.557c0-.572.2-1.057.599-1.457.401-.399.887-.6 1.457-.6h13.144c.533 0 1.01.2 1.428.6.417.4.628.886.628 1.457zm-13.087-8.228c0-3.008 1.485-4.514 4.458-4.514s4.457 1.504 4.457 4.514c0 2.971-1.486 4.457-4.457 4.457s-4.458-1.486-4.458-4.457z"/></svg>
        </a>

        <a href="https://lolma.us/rss_ru.xml" class="route-blog-sidebar-section-bottom-link -no-icon">
          <svg xmlns="http://www.w3.org/2000/svg" height="49.25" viewBox="0 0 49.249999 49.249999" width="49.25" class="route-blog-sidebar-section-bottom-icon _rss" alt="RSS" title="RSS"><path d="M24.625 0C11.025 0 0 11.025 0 24.625 0 38.227 11.024 49.25 24.625 49.25c13.602 0 24.625-11.023 24.625-24.625C49.25 11.025 38.226 0 24.625 0zm-7.637 35.735a3.238 3.238 0 1 1 .002-6.476 3.238 3.238 0 0 1-.002 6.476zm8.123.021c0-3.057-1.182-5.928-3.33-8.082a11.247 11.247 0 0 0-8.028-3.342v-4.674c8.84 0 16.03 7.223 16.03 16.098h-4.672zm8.256.004c0-10.867-8.795-19.711-19.606-19.711v-4.676c13.387 0 24.28 10.942 24.28 24.387h-4.674z"/></svg>
        </a>
      </div>
      
    </div>

</div></div>

<div id="ember2627" class="route-blog-content secTion ember-view"><div class="secTion-inner route-blog-content-inner">
      <div class="route-blogPost">

  <a href="/ru/blog" id="ember2629" class="route-blogPost-back active ember-view">‚Üê –í –±–ª–æ–≥</a>

  <div id="ember2634" class="route-blogPost-post blogPost -full ember-view">  <h1 id="ember2635" class="blogPost-title ember-view"><p>–ù–µ –ø—É—Ç–∞–π—Ç–µ environment —Å deploy target</p>
</h1>



<p class="blogPost-date">
  18-–≥–æ —Ñ–µ–≤—Ä–∞–ª—è 2017

    (–æ–±–Ω–æ–≤–ª–µ–Ω–æ 24-–≥–æ –¥–µ–∫–∞–±—Ä—è 2017)

</p>



  <div id="ember2640" class="blogPost-summary ember-view"><p>–£ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ —Ñ—Ä—ç–π–º–≤–æ—Ä–∫–æ–≤ –µ—Å—Ç—å –ø–æ–Ω—è—Ç–∏–µ <em>environment</em>. –ú–Ω–æ–≥–∏–µ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø—Ä–∏–≤—è–∑—ã–≤–∞—é—Ç –∫ environment –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è, —á—Ç–æ –Ω–µ–≤–µ—Ä–Ω–æ.</p>
</div>



  <div id="ember2641" class="blogPost-body ember-view"><p>–ù–µ–¥–∞–≤–Ω–æ —è –≤ –æ—á–µ—Ä–µ–¥–Ω–æ–π —Ä–∞–∑ –Ω–∞—Ç–∫–Ω—É–ª—Å—è –Ω–∞ —ç—Ç—É –ø—Ä–æ–±–ª–µ–º—É –∏ —Ä–µ—à–∏–ª –Ω–∞–ø–∏—Å–∞—Ç—å –æ –Ω–µ–π –¥–∞–Ω–Ω—É—é –∑–∞–º–µ—Ç–∫—É. –ü–∏—à—É —Å –æ–≥–ª—è–¥–∫–æ–π –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥-—Ñ—Ä—ç–π–º–≤–æ—Ä–∫ <strong>EmberJS</strong>, –Ω–æ —Å—É—Ç—å –ø—Ä–∏–º–µ–Ω–∏–º–∞ –∫ –ª—é–±–æ–º—É —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥- –∏ –±—ç–∫–µ–Ω–¥-—Ñ—Ä–π—ç–º–≤–æ—Ä–∫—É.</p>
<h2 id="—Ç–µ—Ä–º–∏–Ω-environment-—Å–ª–∏—à–∫–æ–º-—Ä–∞–∑–º—ã—Ç" class="headingWithLink"><a href="#—Ç–µ—Ä–º–∏–Ω-environment-—Å–ª–∏—à–∫–æ–º-—Ä–∞–∑–º—ã—Ç" class="headingWithLink-link">#</a>–¢–µ—Ä–º–∏–Ω environment —Å–ª–∏—à–∫–æ–º —Ä–∞–∑–º—ã—Ç</h2>
<p>–¢–µ—Ä–º–∏–Ω <strong>environment</strong> –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –æ—á–µ–Ω—å —à–∏—Ä–æ–∫–æ, —á—Ç–æ –≤—ã–∑—ã–≤–∞–µ—Ç –ø—É—Ç–∞–Ω–∏—Ü—É. –í –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ –µ—Å—Ç—å –º–Ω–æ–≥–æ —Å—Ç–∞—Ç–µ–π, –∫–æ—Ç–æ—Ä—ã–µ, –µ—Å–ª–∏ –ø—Ä–æ—á–∏—Ç–∞—Ç—å –∏—Ö –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–Ω–æ, –ø—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∞—Ç —Ç–æ–º—É, —á—Ç–æ —è —Ö–æ—á—É –ø–æ—Å–æ–≤–µ—Ç–æ–≤–∞—Ç—å –Ω–∏–∂–µ. –î–æ–ª–≥–æ–µ –≤—Ä–µ–º—è —ç—Ç–∏ —Å—Ç–∞—Ç—å–∏ –≤—ã–∑—ã–≤–∞–ª–∏ —É –º–µ–Ω—è –Ω–µ–¥–æ—É–º–µ–Ω–∏–µ. –ü–æ—Ä–∞—Å–∫–∏–Ω—É–≤ –º–æ–∑–≥–∞–º–∏, —è –ø–æ–Ω—è–ª, —á—Ç–æ –¥–µ–ª–æ –≤ –ø—É—Ç–∞–Ω–æ–π —Ç–µ—Ä–º–∏–Ω–æ–ª–æ–≥–∏–∏.</p>
<p>–í <strong>EmberJS</strong> –∏ –º–Ω–æ–≥–∏—Ö –¥—Ä—É–≥–∏—Ö –≤—ç–±-—Ñ—Ä—ç–π–º–≤–æ—Ä–∫–∞—Ö –ø–æ–Ω—è—Ç–∏–µ <strong>environment</strong> –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –≤ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —É–∑–∫–æ–º —Å–º—ã—Å–ª–µ, –∏ —è –¥–∞–ª–µ–µ –±—É–¥—É –ø—Ä–∏–¥–µ–∂–∏–≤–∞—Ç—å—Å—è –∏–º–µ–Ω–Ω–æ –µ–≥–æ. <strong>Environment</strong> ‚Äî —ç—Ç–æ –Ω–∞–±–æ—Ä –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤, –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É—é—â–∏—Ö —Å–±–æ—Ä–∫—É –∏ –∑–∞–ø—É—Å–∫ –≤—ç–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:</p>
<ul>
<li>–º–∏–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è –∫–æ–¥–∞,</li>
<li>asset fingerprinting/cache busting,</li>
<li>–≥–µ–Ω–µ—Ä–∞—Ü–∏—è source maps,</li>
<li>–≤–Ω–µ–¥—Ä–µ–Ω–∏–µ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å—Ä–µ–¥—Å—Ç–≤, –æ–±–ª–µ–≥—á–∞—é—â–∏—Ö –æ—Ç–ª–∞–¥–∫—É,</li>
<li>—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ,</li>
<li>–≤–Ω–µ–¥—Ä–µ–Ω–∏–µ –º–∞—Ä–∫–µ—Ä–æ–≤ –¥–ª—è –æ—Ü–µ–Ω–∫–∏ –ø–æ–∫—Ä—ã—Ç–∏—è –∫–æ–¥–∞,</li>
<li>—É–¥–∞–ª–µ–Ω–∏–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–æ—á–Ω—ã—Ö —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤ –∏–∑ HTML.</li>
</ul>
<p>–ù–æ –µ—Å—Ç—å –∏ –¥—Ä—É–≥–∞—è –≥—Ä—É–ø–ø–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤, –∫–æ—Ç–æ—Ä—É—é —Ç–∞–∫–∂–µ –ø—Ä–∏–Ω—è—Ç–æ –≤–∫–ª—é—á–∞—Ç—å –≤ –ø–æ–Ω—è—Ç–∏–µ <strong>environment</strong>. –Ø —Å—á–∏—Ç–∞—é, —á—Ç–æ —ç—Ç–æ –±–æ–ª—å—à–∞—è –æ—à–∏–±–∫–∞, –∏ –ø—Ä–µ–¥–ª–∞–≥–∞—é –æ—Ç–ª–∏—á–∞—Ç—å –¥–≤–µ –≥—Ä—É–ø–ø—ã. –í—Ç–æ—Ä—É—é –≥—Ä—É–ø–ø—É –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —è –Ω–∞–∑—ã–≤–∞—é <strong>deploy target</strong>:</p>
<ul>
<li>–∞–¥—Ä–µ—Å–∞ API,</li>
<li>–∞–¥—Ä–µ—Å–∞ CDN,</li>
<li>–Ω–∞—Å—Ç—Ä–æ–π–∫–∏ CSP (content security policy) –∏ CORS (cross-origin resource sharing),</li>
<li>–∫–ª—é—á–∏ API.</li>
</ul>
<h2 id="–≤-—á–µ–º-—Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ-–ø—Ä–æ–±–ª–µ–º–∞" class="headingWithLink"><a href="#–≤-—á–µ–º-—Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ-–ø—Ä–æ–±–ª–µ–º–∞" class="headingWithLink-link">#</a>–í —á–µ–º, —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ, –ø—Ä–æ–±–ª–µ–º–∞</h2>
<p>–ú–Ω–æ–≥–∏–µ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–≤–∞–ª–∏–≤–∞—é—Ç –æ–±–µ –≥—Ä—É–ø–ø—ã –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –≤ –æ–¥–Ω—É –∫—É—á—É –∏ –ø—Ä–∏–≤—è–∑—ã–≤–∞—é—Ç –∫ –ø–∞—Ä–∞–º–µ—Ç—Ä—É <strong>environment</strong>, –∫–æ—Ç–æ—Ä—ã–π —É –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ —Ñ—Ä—ç–π–º–≤–æ—Ä–∫–æ–≤ –º–æ–∂–µ—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å –≤—Å–µ–≥–æ —Ç—Ä–∏ –∑–Ω–∞—á–µ–Ω–∏—è: <code>development</code>, <code>production</code> –∏ <code>test</code>.</p>
<p>–í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ —Å—É—Ç–∏ –∏–º–µ–µ—Ç –≤—Å–µ–≥–æ –¥–≤–∞ —Ä–µ–∂–∏–º–∞ —Å–±–æ—Ä–∫–∏: production-–±–∏–ª–¥, –ø—Ä–∏–≤—è–∑–∞–Ω–Ω—ã–π –∫ production —Å–µ—Ä–≤–µ—Ä—É, –∏ development-–±–∏–ª–¥ –ø—Ä–∏–≤—è–∑–∞–Ω–Ω—ã–π –∫ –ª–æ–∫–∞–ª—å–Ω–æ–º—É —Å–µ—Ä–≤–µ—Ä—É –∏–ª–∏ –º–æ–∫—É (–∏–º–∏—Ç–∞—Ü–∏–∏ —Å–µ—Ä–≤–µ—Ä–∞).</p>
<p>–°–¥–µ–ª–∞—Ç—å —Å–±–æ—Ä–∫—É –≤ development-—Ä–µ–∂–∏–º–µ, –Ω–æ –ø—Ä–∏–≤—è–∑–∞–Ω–Ω—É—é –∫ production —Å–µ—Ä–≤–µ—Ä—É, –∑–∞—Ç—Ä—É–¥–Ω–∏—Ç–µ–ª—å–Ω–æ: –¥–ª—è —ç—Ç–æ–≥–æ –ø—Ä–∏—Ö–æ–¥–∏—Ç—Å—è –≤—Ä–µ–º–µ–Ω–Ω–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥. –ê –≤–µ–¥—å —Ç–∞–∫–∞—è —Å–±–æ—Ä–∫–∞ –º–æ–∂–µ—Ç –æ—á–µ–Ω—å –≤—ã—Ä—É—á–∏—Ç—å, –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –æ—Ç–ª–∞–¥–∏—Ç—å –ø—Ä–æ–±–µ–º—É, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–æ—è–≤–ª—è–µ—Ç—Å—è –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ, –Ω–æ –Ω–µ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ.</p>
<p>–û–±—Ä–∞—Ç–Ω–æ–µ —Ç–æ–∂–µ –ø–æ—Ä–æ–π –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ: —Å–¥–µ–ª–∞—Ç—å —Å–±–æ—Ä–∫—É –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞, –Ω–æ –≤ production —Ä–µ–∂–∏–º–µ. –≠—Ç–æ –Ω—É–∂–Ω–æ, –Ω–∞–ø—Ä–∏–º–µ—Ä, —á—Ç–æ–±—ã –∑–∞–º–µ—Ä–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏–ª–∏ —á—Ç–æ–±—ã –æ—Ç–ª–∞–¥–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—É, –≤–æ–∑–Ω–∏–∫–∞—é—â—É—é –≤–æ –≤—Ä–µ–º—è –º–∏–Ω–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏ —Ñ–∏–Ω–≥–µ—Ä–ø—Ä–∏–Ω—Ç–∏–Ω–≥–∞.</p>
<p>–ê —Ö—É–∂–µ –≤—Å–µ–≥–æ —Ç–æ, —á—Ç–æ –∫–ª—é—á–∏ API —Ö—Ä–∞–Ω—è—Ç—Å—è –ø—Ä—è–º–æ –≤ –∫–æ–Ω—Ñ–∏–≥–µ –∏ –ø–æ–ø–∞–¥–∞—é—Ç –≤ —Å–∏—Å—Ç–µ–º—É –∫–æ–Ω—Ç—Ä–æ–ª—è –≤–µ—Ä—Å–∏–π, —á—Ç–æ —É–≥—Ä–æ–∂–∞–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–∏—Å–∞.</p>
<h2 id="–∫–∞–∫-–Ω–∞–¥–æ-–¥–µ–ª–∞—Ç—å" class="headingWithLink"><a href="#–∫–∞–∫-–Ω–∞–¥–æ-–¥–µ–ª–∞—Ç—å" class="headingWithLink-link">#</a>–ö–∞–∫ –Ω–∞–¥–æ –¥–µ–ª–∞—Ç—å</h2>
<p>–Ø —Ä–µ–∫–æ–º–µ–Ω–¥—É—é –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–∞–∫ –Ω–∞–∑—ã–≤–∞–µ–º—ã–µ <em>dotenv</em>-—Ñ–∞–π–ª—ã.</p>
<p>–≠—Ç–æ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã, –∏–º–µ–Ω–∞ –∫–æ—Ç–æ—Ä—ã—Ö –Ω–∞—á–∏–Ω–∞—é—Ç—Å—è —Å <code>.env-</code>. –û–Ω–∏ —Å–æ–¥–µ—Ä–∂–∞—Ç –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ –≤–∏–¥–µ –ø–∞—Ä –∫–ª—é—á=–∑–Ω–∞—á–µ–Ω–∏–µ, –ø–æ –æ–¥–Ω–æ–π –Ω–∞ —Å—Ç—Ä–æ–∫—É:</p>
<div class="code-block"><pre><code class="hljs">FOO=bar
BAZ=quux</code></pre></div>
<p>–í–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç —Å—á–∏—Ç—ã–≤–∞—Ç—å –Ω—É–∂–Ω—ã–π —Ñ–∞–π–ª –≤–æ –≤—Ä–µ–º—è —Å–±–æ—Ä–∫–∏ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏.</p>
<p>–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –ø–æ-–∞–Ω–≥–ª–∏–π—Å–∫–∏ –Ω–∞–∑—ã–≤–∞—é—Ç—Å—è <strong>environment variables</strong>, —á—Ç–æ –¥–æ–±–∞–≤–ª—è–µ—Ç –ø—É—Ç–∞–Ω–∏—Ü—ã, —Ç–∞–∫ —á—Ç–æ –±—É–¥—å—Ç–µ –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω—ã. –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è ‚Äî —ç—Ç–æ —Ç–∞–∫–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å –∏–∑ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏.</p>
<p>–í–æ—Ç, —á—Ç–æ –≤—ã –¥–æ–ª–∂–Ω—ã —Å–¥–µ–ª–∞—Ç—å:</p>
<ol>
<li><p>–£–¥–∞–ª–∏—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≥—Ä—É–ø–ø—ã <strong>deploy target</strong> –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.</p></li>
<li><p>–í—ã–Ω–µ—Å–∏—Ç–µ –∏—Ö –≤ dotenv-—Ñ–∞–π–ª—ã, –ø–æ –æ–¥–Ω–æ–º—É –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞: <code>.env-production</code>, <code>.env-staging</code>, <code>.env-sandbox</code>, <code>.env-local</code>, <code>.env-mock</code> –∏ —Ç. –¥. –ò—Ö –º–æ–∂–µ—Ç –±—ã—Ç—å —Å—Ç–æ–ª—å–∫–æ, —Å–∫–æ–ª—å–∫–æ –≤–∞–º –Ω—É–∂–Ω–æ, –∞ –Ω–µ —Ç–æ–ª—å–∫–æ production –∏ development.</p></li>
<li><p>–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–æ–±–∞–≤—å—Ç–µ dotenv-—Ñ–∞–π–ª—ã –≤ <code>.gitignore</code>, —á—Ç–æ–±—ã –∫–ª—é—á–∏ API –Ω–µ –∑–∞—Å–≤–µ—Ç–∏–ª–∏—Å—å –≤ —Å–∏—Å—Ç–µ–º–µ –∫–æ–Ω—Ç—Ä–æ–ª—è –≤–µ—Ä—Å–∏–π.</p></li>
<li><p>–ï—Å–ª–∏ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ <abbr title="continuous integration">CI</abbr>, —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —ç—Ç–∏—Ö —Ñ–∞–π–ª–æ–≤ –º–æ–∂–Ω–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–∞–∂–¥–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞. –ù–∞ CodeShip, –Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π —Ä–∞–∑–¥–µ–ª –Ω–∞—Å—Ç—Ä–æ–µ–∫ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è "deployment pipelines".</p></li>
<li><p>–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ç–∞–∫, —á—Ç–æ–±—ã –ø—Ä–∏ —Å–±–æ—Ä–∫–µ –º–æ–∂–Ω–æ –±—ã–ª–æ —É–∫–∞–∑–∞—Ç—å, –∫–∞–∫–æ–π <strong>deploy target</strong> –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å. –ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –ø–ª–∞—Ç—Ñ–æ—Ä–º –∏–º–µ—é—Ç –¥–ª—è —ç—Ç–æ–≥–æ –±–∏–±–ª–∏–æ—Ç–µ–∫—É <code>dotenv</code>.</p></li>
</ol>
<p>–¢–µ–ø–µ—Ä—å <strong>deploy target</strong> –º–æ–∂–Ω–æ –≤—ã–±–∏—Ä–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ –æ—Ç <strong>environment</strong>, –ø–æ–ª—É—á–∞—è –ª—é–±–æ–µ –Ω—É–∂–Ω–æ–µ –≤–∞–º —Å–æ—á–µ—Ç–∞–Ω–∏–µ <strong>deploy target</strong> –∏ <strong>environment</strong>. –ù–∞–ø—Ä–∏–º–µ—Ä, —è —ç—Ç–æ –¥–µ–ª–∞—é —Ç–∞–∫:</p>
<div class="code-block"><pre><code class="hljs">DEPLOY_TARGET=local ember serve --environment=production</code></pre></div>
<p>–†–∞–∑—É–º–µ–µ—Ç—Å—è, –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ –≤—ã –º–æ–∂–µ—Ç–µ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å, —á—Ç–æ–±—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ <strong>environment</strong> –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π <strong>deploy target</strong>, —á—Ç–æ–±—ã –Ω–µ –ø—Ä–∏—Ö–æ–¥–∏–ª–æ—Å—å —É–∫–∞–∑—ã–≤–∞—Ç—å –∫–∞–∂–¥—ã–π —Ä–∞–∑.</p>
<p>–í–Ω–∏–º–∞—Ç–µ–ª—å–Ω—ã–π —á–∏—Ç–∞—Ç–µ–ª—å –≤–æ–∑—Ä–∞–∑–∏—Ç: –∫—Ä—É–≥ –∑–∞–º–∫–Ω—É–ª—Å—è, –∏ <strong>environment</strong> —Å–Ω–æ–≤–∞ –æ–ø–µ—Ä–µ–¥–µ–ª—è–µ—Ç <strong>deploy target</strong>. –ó–∞ —á—Ç–æ –±–æ—Ä–æ–ª–∏—Å—å?</p>
<p>–ü–æ-—É–º–æ–ª—á–∞–Ω–∏—é –≤—Å—ë –æ—Å—Ç–∞–Ω–µ—Ç—Å—è –∫–∞–∫ –±—ã–ª–æ, –Ω–æ —É –≤–∞—Å —Ç–µ–ø–µ—Ä—å –ø–æ—è–≤–∏–ª–∞—Å—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤ –Ω—É–∂–Ω—ã–π –º–æ–º–µ–Ω—Ç –≤—Ä—É—á–Ω—É—é –∑–∞–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å –ª—é–±–æ–µ —Å–æ—á–µ—Ç–∞–Ω–∏–µ <strong>environment</strong> –∏ <strong>deploy target</strong> ‚Äî –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥, –∞ –ø–æ—Ç–æ–º –æ—Ç–∫–∞—Ç—ã–≤–∞—Ç—å.</p>
<h2 id="–∫–∞–∫-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å-dotenv-–≤-ember" class="headingWithLink"><a href="#–∫–∞–∫-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å-dotenv-–≤-ember" class="headingWithLink-link">#</a>–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å dotenv –≤ Ember</h2>
<p>Npm-–±–∏–±–ª–∏–æ—Ç–µ–∫–∞ <a href="https://www.npmjs.com/package/dotenv">dotenv</a> –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –≤ Ember –Ω–∞–ø—Ä—è–º—É—é. –û–¥–Ω–∞–∫–æ –µ—Å–ª–∏ –≤–∞–º –Ω—É–∂–Ω–æ —Å—á–∏—Ç—ã–≤–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã <strong>deploy target</strong> –∫–∞–∫ –≤ <code>config/environment.js</code>, —Ç–∞–∫ –∏ –≤ <code>ember-cli-build.js</code>, –ª–∏–±–æ –µ—Å–ª–∏ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ FastBoot, —Ç–æ –≤–æ—Å–ø–æ–ª—å–∑—É–π—Ç–µ—Å—å –∞–¥–¥–æ–Ω–æ–º <a href="https://github.com/fivetanley/ember-cli-dotenv">ember-cli-dotenv</a>.</p>
<p>–°–æ–∑–¥–∞–π—Ç–µ –≤ –∫–æ—Ä–Ω–µ–≤–æ–π –ø–∞–ø–∫–µ –≤–∞—à–µ–≥–æ Ember-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è <code>.env</code>-—Ñ–∞–π–ª—ã, –ø–æ –æ–¥–Ω–æ–º—É –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞, –≤–∫–ª—é—á–∞—è –ª–æ–∫–∞–ª—å–Ω—ã–π –∏ –º–æ–∫-—Å–µ—Ä–≤–µ—Ä, –µ—Å–ª–∏ –≤—ã –∏—Ö –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ:</p>
<div class="code-block"><pre><code class="hljs">.env-production
.env-staging
.env-sandbox
.env-local
.env-mock</code></pre></div>
<p>–û—Å–æ–±–µ–Ω–Ω–æ –∫—Ä—É—Ç–æ, –µ—Å–ª–∏ —É –≤–∞—à–∏—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤ –µ—Å—Ç—å –∏–º–µ–Ω–∞ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ. –í —Ç–∞–∫–æ–º —Å–ª—É—á–∞–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç—Ç–∏ –∏–º–µ–Ω–∞ –≤ –Ω–∞–∑–≤–∞–Ω–∏—è—Ö <code>.env</code>-—Ñ–∞–π–ª–æ–≤.</p>
<p>–í –∫–∞–∂–¥–æ–º —Ñ–∞–π–ª–µ —Ö—Ä–∞–Ω–∏—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã <strong>deploy target</strong> –≤ —Ç–∞–∫–æ–º –≤–∏–¥–µ:</p>
<div class="code-block"><pre><code class="hljs">MYAPP_BACKEND_API_URL=https://bravo.horns-and-hooves.com/api
MYAPP_BACKEND_API_VERSION=v18
MYAPP_IMAGES_CDN_URL=http://horns-and-hooves.cloudfront.net/bravo/images
MYAPP_GITHUB_API_KEY=jFViG9kZtY4NAJA8I65s</code></pre></div>
<p><code>MYAPP</code> ‚Äî —ç—Ç–æ –æ—Ç—Å—ã–ª–∫–∞ –∫ –Ω–∞–∑–≤–∞–Ω–∏—é –≤–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –î–æ–±–∞–≤–ª—è—Ç—å –µ–≥–æ –ø–æ–ª–µ–∑–Ω–æ, —á—Ç–æ–±—ã –Ω–µ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∫–∞–∫—É—é-–ª–∏–±–æ –≤–Ω–µ—à–Ω—é—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é, –∫–æ—Ç–æ—Ä–∞—è –º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è –∏ –Ω–∞–≤–∑–∞–Ω–∏–µ –∫–æ—Ç–æ—Ä–æ–π –º–æ–∂–µ—Ç —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å –æ–¥–Ω–∏–º –∏–∑ –≤–∞—à–∏—Ö.</p>
<p>–¢–µ–ø–µ—Ä—å –Ω–∞–º –Ω—É–∂–Ω–æ –¥–æ–±–∏—Ç—å—Å—è, —á—Ç–æ–±—ã <code>ember-cli-dotenv</code> –ø–æ–¥–≥—Ä—É–∂–∞–ª –Ω—É–∂–Ω—ã–π dotenv-—Ñ–∞–π–ª. –î–ª—è —ç—Ç–æ–≥–æ –≤–æ—Å–ø–æ–ª—å–∑—É–π—Ç–µ—Å—å —Ç–∞–∫–∏–º —Ç—Ä—é–∫–æ–º –≤ —Ñ–∞–π–ª–µ <code>config/environment.js</code>:</p>
<div class="code-block"><pre><code class="javascript language-javascript hljs"><span class="hljs-keyword">const</span> fs = <span class="hljs-built_in">require</span>(<span class="hljs-string">'fs'</span>)

<span class="hljs-keyword">const</span> environment   = process.env.EMBER_ENV || <span class="hljs-string">'development'</span>
<span class="hljs-keyword">const</span> defaultTarget = environment === <span class="hljs-string">'production'</span> ? <span class="hljs-string">'production'</span> : <span class="hljs-string">'localhost-4200'</span>
<span class="hljs-keyword">const</span> target        = process.env.DEPLOY_TARGET || defaultTarget
<span class="hljs-keyword">const</span> dotEnvFile    = <span class="hljs-string">`./.env-<span class="hljs-subst">${target}</span>`</span>

<span class="hljs-keyword">if</span> (fs.existsSync(dotEnvFile)) <span class="hljs-built_in">console</span>.info(<span class="hljs-string">`using dotenv file: <span class="hljs-subst">${dotEnvFile}</span>`</span>)
<span class="hljs-keyword">else</span> <span class="hljs-built_in">console</span>.warn(<span class="hljs-string">`dot-env file not found: <span class="hljs-subst">${dotEnvFile}</span>, assuming env vars are passed manually`</span>)



<span class="hljs-built_in">module</span>.exports = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">env</span>) </span>{
  <span class="hljs-keyword">return</span> {
    <span class="hljs-attr">clientAllowedKeys</span> : [
      <span class="hljs-string">'MYAPP_BACKEND_API_URL'</span>,
      <span class="hljs-string">'MYAPP_BACKEND_API_VERSION'</span>,
      <span class="hljs-string">'MYAPP_IMAGES_CDN_URL'</span>,
      <span class="hljs-string">'MYAPP_GITHUB_API_KEY'</span>,
    ],
    <span class="hljs-attr">path</span> : dotEnvFile,
  }
}</code></pre></div>
<p>–¢–µ–ø–µ—Ä—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–∑ dotenv-—Ñ–∞–π–ª–∞ –ø–æ–ø–∞–¥—É—Ç –≤ —Ö—ç—à <code>process.env</code>, –∫–æ—Ç–æ—Ä—ã–π –≤—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ <code>config/environment.js</code> –∏ <code>ember-cli-build.js</code> —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:</p>
<div class="code-block"><pre><code class="javascript language-javascript hljs">{
  <span class="hljs-attr">gitHubApiKey</span>: process.env.MYAPP_GITHUB_API_KEY
}</code></pre></div>
<div class="exclamation"></div>
<blockquote>
  <p>–†–µ–∫–æ–º–µ–Ω–¥—É—é –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ —Å–æ–∑–¥–∞—Ç—å –≤ –≤–∞—à–µ–º Ember-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ —Å–µ—Ä–≤–∏—Å <code>config</code>, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–∑ <code>config/environment.js</code>. –≠—Ç–æ –¥–∞–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å computed properties –¥–ª—è —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤, –Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤–µ—Ä—Å–∏–∏ API –≤ –∞–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–∞.</p>
</blockquote>
<p>–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é, –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω—ã–π –≤—ã—à–µ –∫–≥–æ–¥ –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å <strong>deploy target</strong> <code>production</code> –≤ <strong>environment</strong> <code>production</code> –∏ <code>localhost-4200</code> –≤ <code>development</code>. –û–¥—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏—è <strong>deploy targets</strong>, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –≤ –∫–æ–¥–µ, —á—Ç–æ–±—ã —Å–æ–≤–ø–∞–ª–∏ —Å –≤–∞—à–∏–º–∏.</p>
<div class="code-block"><pre><code class="hljs"> ember s -prod   # –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `production` environment —Å `production` deploy target
 ember s         # –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `development` environment —Å `localhost-4200` deploy target</code></pre></div>
<p>–í—ã –º–æ–∂–µ—Ç–µ —É–∫–∞–∑–∞—Ç—å, –∫–∞–∫–æ–π dotenv-—Ñ–∞–π–ª –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:</p>
<div class="code-block"><pre><code class="hljs">DEPLOY_TARGET=localhost-4200 ember s -prod   # –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `production` environment —Å `localhost-4200` deploy target
DEPLOY_TARGET=production ember s             # –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `development` environment —Å `production` deploy target</code></pre></div>
<h2 id="–≤-—Å–æ—á–µ—Ç–∞–Ω–∏–∏-—Å-ember-cli-deploy" class="headingWithLink"><a href="#–≤-—Å–æ—á–µ—Ç–∞–Ω–∏–∏-—Å-ember-cli-deploy" class="headingWithLink-link">#</a>–í —Å–æ—á–µ—Ç–∞–Ω–∏–∏ —Å ember-cli-deploy</h2>
<p><code>ember-cli-deploy</code> <a href="http://ember-cli-deploy.com/docs/v1.0.x/using-env-for-secrets/">–∏–º–µ–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—É—é –ø–æ–æ–¥–µ—Ä–∂–∫—É dotenv-—Ñ–∞–π–ª–æ–≤</a>, –æ–¥–Ω–∞–∫–æ –æ–Ω–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è –∫–æ–º–∞–Ω–¥ <code>ember deploy</code>, –≤ —Ç–æ –≤—Ä–µ–º—è –∫–∞–∫ –æ–ø–∏—Å–∞–Ω–Ω—ã–π –≤—ã—à–µ —Å–ø–æ—Å–æ–± –ø–æ–¥—Ö–æ–¥–∏—Ç –Ω–µ —Ç–æ–ª—å–∫–æ –¥–ª—è <code>ember deploy</code>, –Ω–æ –∏ –¥–ª—è <code>ember serve</code>, <code>ember build</code>, <code>ember test</code> –∏ —Ç. –ø.</p>
<p>–ü—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å <code>ember-cli-deploy</code> —Å—Ç–æ–∏—Ç –æ–±—Ä–∞—Ç–∏—Ç—å –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –Ω—é–∞–Ω—Å–æ–≤.</p>
<p>–í–æ-–ø–µ—Ä–≤—ã—Ö, –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è <code>ember-cli-deploy</code> –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–ª–æ–≤–æ—Å–æ—á–µ—Ç–∞–Ω–∏–µ "build environment" –≤ –∫–∞—á–µ—Å—Ç–≤–µ —Å–∏–Ω–æ–Ω–∏–º–∞ <strong>deploy target</strong>, —á—Ç–æ –¥–æ–±–∞–≤–ª—è–µ—Ç –ø—É—Ç–∞–Ω–∏—Ü—ã.</p>
<p>–í–æ-–≤—Ç–æ—Ä—ã—Ö, –≤ –∫–æ–Ω—Ñ–∏–≥–µ <code>config/deploy.js</code> –º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–±–æ—Ä–∫–∏ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç <strong>deploy target</strong>. –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø–µ—Ä–µ–∏–º–µ–Ω—É–π—Ç–µ <strong>deploy targets</strong> –≤ —ç—Ç–æ–º —Ñ–∞–π–ª–µ, –ø—Ä–∏–≤–µ–¥—è –∏—Ö –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –Ω–∞–∑–≤–∞–Ω–∏—è–º –≤–∞—à–∏—Ö dotenv-—Ñ–∞–π–ª–æ–≤.</p>
<p>–í-—Ç—Ä–µ—Ç—å–∏—Ö, –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è <code>dev</code> –∏ <code>prod</code> –≤–º–µ—Å—Ç–æ <code>development</code> –∏ <code>production</code>. </p>
<p>–í-—á–µ—Ç–≤–µ—Ä—Ç—ã—Ö, –æ–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ <code>ember-cli-deploy</code> —Ç–∞–∫–∂–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è <code>DEPLOY_TARGET</code>. –û–¥–Ω–∞–∫–æ –æ–Ω–∞ –ø–æ—á–µ–º—É-—Ç–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏–∑ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏.</p>
<p>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–µ —Ç–∞–∫ –Ω–µ–ª—å–∑—è:</p>
<div class="code-block"><pre><code class="hljs">DEPLOY_TARGET=production ember deploy</code></pre></div>
<p>–í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç—Å—è –ø–∏—Å–∞—Ç—å</p>
<div class="code-block"><pre><code class="hljs">ember deploy production</code></pre></div>
<p>–ó–∞—á–µ–º –∂–µ –≤ <code>ember-cli-deploy</code> –≤–æ–æ–±—â–µ –Ω—É–∂–Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–∫—Ä—É–∂–µ–Ω–∏—è <code>DEPLOY_TARGET</code>? –ï—Å–ª–∏ —É –≤–∞—Å –≤–æ–∑–Ω–∏–∫–Ω–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å <strong>deploy target</strong> –≤ —Ñ–∞–π–ª–µ <code>ember-cli-build.js</code>, —Ç–æ –≤—ã –º–æ–∂–µ—Ç–µ –æ–±—Ä–∞—Ç–∏—Ç—Å—è –∫ –Ω–µ–π —Ç–∞–∫: <code>process.env.DEPLOY_TARGET</code>.</p>
<p>–ë–µ–¥–∞ –≤ —Ç–æ–º, —á—Ç–æ —Ñ–∞–π–ª <code>config/dotenv.js</code> –æ—Ç—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ä–∞–Ω—å—à–µ, —á–µ–º –∫–æ–º–∞–Ω–¥–∞ <code>ember deploy production</code> –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç <strong>environment</strong> –≤ <code>production</code> –∏ –ø—Ä–∏—Å–≤–∞–∏–≤–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π <code>DEPLOY_TARGET</code>. </p>
<p>–í—ã–π—Ç–∏ –∏–∑ –ø–æ–ª–æ–∂–µ–Ω–∏—è –º–æ–∂–Ω–æ, —É–∫–∞–∑—ã–≤–∞—è <code>DEPLOY_TARGET</code> —è–≤–Ω–æ, —á—Ç–æ–±—ã <code>config/dotenv.js</code> –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª –∏–º–µ–Ω–Ω–æ –µ–≥–æ.</p>
<div class="code-block"><pre><code class="hljs">DEPLOY_TARGET=production ember deploy production</code></pre></div>
<p>–ù–æ –∫–æ–º–∞–Ω–¥–∞ –ø–æ–ª—É—á–∞–µ—Ç—Å—è –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –≥—Ä–æ–º–æ–∑–¥–∫–æ–π. –ò–∑–±–µ–∂–∞—Ç—å –∏–∑–±—ã—Ç–æ—á–Ω–æ—Å—Ç–∏ –º–æ–∂–Ω–æ, –Ω–∞—É—á–∏–≤ –≤–∞—à <code>config/dotenv.js</code> –∑–∞–º–µ—á–∞—Ç—å –∫–æ–º–∞–Ω–¥—É <code>ember deploy production</code>:</p>
<div class="code-block"><pre><code class="js language-js hljs"><span class="hljs-keyword">const</span> fs = <span class="hljs-built_in">require</span>(<span class="hljs-string">'fs'</span>)

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getDeployTarget</span> (<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">return</span> process.env.DEPLOY_TARGET || getDefaultDeployTarget()
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getDefaultDeployTarget</span> (<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">const</span> environment =
    process.env.EMBER_ENV
    || deployEnv()
    || <span class="hljs-string">'development'</span>

  <span class="hljs-keyword">return</span> environment === <span class="hljs-string">'production'</span> ? <span class="hljs-string">'production'</span> : <span class="hljs-string">'localhost-4200'</span>
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">deployEnv</span> (<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">if</span> (process.argv[<span class="hljs-number">2</span>] === <span class="hljs-string">'deploy'</span> &amp;&amp; process.argv[<span class="hljs-number">3</span>] === <span class="hljs-string">'prod'</span>) {
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">"Command `ember deploy prod` is not supported. Please use `ember deploy production`."</span>)
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (process.argv[<span class="hljs-number">2</span>] === <span class="hljs-string">'deploy'</span> &amp;&amp; process.argv[<span class="hljs-number">3</span>] === <span class="hljs-string">'production'</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-string">'production'</span>
  }
}



<span class="hljs-keyword">const</span> dotEnvFile   = <span class="hljs-string">`./.env-<span class="hljs-subst">${getDeployTarget()}</span>`</span>

<span class="hljs-keyword">if</span> (fs.existsSync(dotEnvFile)) <span class="hljs-built_in">console</span>.info(<span class="hljs-string">`Using dotenv file: <span class="hljs-subst">${dotEnvFile}</span>`</span>)
<span class="hljs-keyword">else</span> <span class="hljs-built_in">console</span>.warn(<span class="hljs-string">`dot-env file not found: <span class="hljs-subst">${dotEnvFile}</span>, assuming env vars are passed manually`</span>)



<span class="hljs-built_in">module</span>.exports = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">env</span>) </span>{
  <span class="hljs-keyword">return</span> {
    <span class="hljs-attr">clientAllowedKeys</span> : [
      <span class="hljs-string">'MYAPP_BACKEND_API_URL'</span>,
      <span class="hljs-string">'MYAPP_BACKEND_API_VERSION'</span>,
      <span class="hljs-string">'MYAPP_IMAGES_CDN_URL'</span>,
      <span class="hljs-string">'MYAPP_GITHUB_API_KEY'</span>,
    ],
    <span class="hljs-attr">path</span> : dotEnvFile,
  }
}</code></pre></div>
<p>–í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –∫–æ–º–∞–Ω–¥–∞ <code>ember deploy production</code> –∑–∞–¥–µ–π—Å—Ç–≤—É–µ—Ç dotenv-—Ñ–∞–π–ª <code>.env-production</code> –∏ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç <strong>environment</strong> –≤ <code>production</code>.</p>
<p>–ï—Å–ª–∏ –∂–µ –≤–∞–º –ø–æ–Ω–∞–¥–æ–±–∏—Ç—å—Å—è –∑–∞–ª–∏—Ç—å –Ω–∞ production-—Å–µ—Ä–≤–µ—Ä —Å–±–æ—Ä–∫—É –±–µ–∑ –º–∏–Ω–∏—Ñ–∏–∫–∞—Ü–∏–∏, —Ç–æ –≤—ã –º–æ–∂–µ—Ç–µ –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –∫–æ–º–∞–Ω–¥–æ–π:</p>
<div class="code-block"><pre><code class="hljs">EMBER_ENV=development ember deploy production</code></pre></div>
<h2 id="–≤–∞—à–µ-–º–Ω–µ–Ω–∏–µ" class="headingWithLink"><a href="#–≤–∞—à–µ-–º–Ω–µ–Ω–∏–µ" class="headingWithLink-link">#</a>–í–∞—à–µ –º–Ω–µ–Ω–∏–µ?</h2>
<p>–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø–æ–¥–µ–ª–∏—Ç–µ—Å—å —Å–≤–æ–∏–º–∏ —Å–æ–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏ –≤ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è—Ö!</p>
</div>
</div>

<!---->
</div>

  
</div></div>


</div>

  </div>

</div></div><script type="fastboot/shoebox" id="shoebox-ember-data-store">{"types":{"cache-buster":[{"data":{"id":"buster","attributes":{"string":"61e6c79273e8a6d750b38a3ccf881b7a52a816cf9410a1af441823157101e378"},"type":"cache-busters"}}],"experience":[],"markdown-block":[],"post":[{"data":{"id":"do-not-confuse-env-for-deploy-target-ru","attributes":{"title":"–ù–µ –ø—É—Ç–∞–π—Ç–µ environment —Å deploy target","body":"\n–ù–µ–¥–∞–≤–Ω–æ —è –≤ –æ—á–µ—Ä–µ–¥–Ω–æ–π —Ä–∞–∑ –Ω–∞—Ç–∫–Ω—É–ª—Å—è –Ω–∞ —ç—Ç—É –ø—Ä–æ–±–ª–µ–º—É –∏ —Ä–µ—à–∏–ª –Ω–∞–ø–∏—Å–∞—Ç—å –æ –Ω–µ–π –¥–∞–Ω–Ω—É—é –∑–∞–º–µ—Ç–∫—É. –ü–∏—à—É —Å –æ–≥–ª—è–¥–∫–æ–π –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥-—Ñ—Ä—ç–π–º–≤–æ—Ä–∫ **EmberJS**, –Ω–æ —Å—É—Ç—å –ø—Ä–∏–º–µ–Ω–∏–º–∞ –∫ –ª—é–±–æ–º—É —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥- –∏ –±—ç–∫–µ–Ω–¥-—Ñ—Ä–π—ç–º–≤–æ—Ä–∫—É.\n\n\n\n## –¢–µ—Ä–º–∏–Ω environment —Å–ª–∏—à–∫–æ–º —Ä–∞–∑–º—ã—Ç\n\n–¢–µ—Ä–º–∏–Ω **environment** –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –æ—á–µ–Ω—å —à–∏—Ä–æ–∫–æ, —á—Ç–æ –≤—ã–∑—ã–≤–∞–µ—Ç –ø—É—Ç–∞–Ω–∏—Ü—É. –í –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ –µ—Å—Ç—å –º–Ω–æ–≥–æ —Å—Ç–∞—Ç–µ–π, –∫–æ—Ç–æ—Ä—ã–µ, –µ—Å–ª–∏ –ø—Ä–æ—á–∏—Ç–∞—Ç—å –∏—Ö –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–Ω–æ, –ø—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∞—Ç —Ç–æ–º—É, —á—Ç–æ —è —Ö–æ—á—É –ø–æ—Å–æ–≤–µ—Ç–æ–≤–∞—Ç—å –Ω–∏–∂–µ. –î–æ–ª–≥–æ–µ –≤—Ä–µ–º—è —ç—Ç–∏ —Å—Ç–∞—Ç—å–∏ –≤—ã–∑—ã–≤–∞–ª–∏ —É –º–µ–Ω—è –Ω–µ–¥–æ—É–º–µ–Ω–∏–µ. –ü–æ—Ä–∞—Å–∫–∏–Ω—É–≤ –º–æ–∑–≥–∞–º–∏, —è –ø–æ–Ω—è–ª, —á—Ç–æ –¥–µ–ª–æ –≤ –ø—É—Ç–∞–Ω–æ–π —Ç–µ—Ä–º–∏–Ω–æ–ª–æ–≥–∏–∏.\n\n–í **EmberJS** –∏ –º–Ω–æ–≥–∏—Ö –¥—Ä—É–≥–∏—Ö –≤—ç–±-—Ñ—Ä—ç–π–º–≤–æ—Ä–∫–∞—Ö –ø–æ–Ω—è—Ç–∏–µ **environment** –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –≤ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —É–∑–∫–æ–º —Å–º—ã—Å–ª–µ, –∏ —è –¥–∞–ª–µ–µ –±—É–¥—É –ø—Ä–∏–¥–µ–∂–∏–≤–∞—Ç—å—Å—è –∏–º–µ–Ω–Ω–æ –µ–≥–æ. **Environment** ‚Äî —ç—Ç–æ –Ω–∞–±–æ—Ä –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤, –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É—é—â–∏—Ö —Å–±–æ—Ä–∫—É –∏ –∑–∞–ø—É—Å–∫ –≤—ç–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:\n\n*   –º–∏–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è –∫–æ–¥–∞,\n*   asset fingerprinting/cache busting,\n*   –≥–µ–Ω–µ—Ä–∞—Ü–∏—è source maps,\n*   –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å—Ä–µ–¥—Å—Ç–≤, –æ–±–ª–µ–≥—á–∞—é—â–∏—Ö –æ—Ç–ª–∞–¥–∫—É,\n*   —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ,\n*   –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ –º–∞—Ä–∫–µ—Ä–æ–≤ –¥–ª—è –æ—Ü–µ–Ω–∫–∏ –ø–æ–∫—Ä—ã—Ç–∏—è –∫–æ–¥–∞,\n*   —É–¥–∞–ª–µ–Ω–∏–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–æ—á–Ω—ã—Ö —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤ –∏–∑ HTML.\n\n–ù–æ –µ—Å—Ç—å –∏ –¥—Ä—É–≥–∞—è –≥—Ä—É–ø–ø–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤, –∫–æ—Ç–æ—Ä—É—é —Ç–∞–∫–∂–µ –ø—Ä–∏–Ω—è—Ç–æ –≤–∫–ª—é—á–∞—Ç—å –≤ –ø–æ–Ω—è—Ç–∏–µ **environment**. –Ø —Å—á–∏—Ç–∞—é, —á—Ç–æ —ç—Ç–æ –±–æ–ª—å—à–∞—è –æ—à–∏–±–∫–∞, –∏ –ø—Ä–µ–¥–ª–∞–≥–∞—é –æ—Ç–ª–∏—á–∞—Ç—å –¥–≤–µ –≥—Ä—É–ø–ø—ã. –í—Ç–æ—Ä—É—é –≥—Ä—É–ø–ø—É –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —è –Ω–∞–∑—ã–≤–∞—é **deploy target**:\n\n*   –∞–¥—Ä–µ—Å–∞ API,\n*   –∞–¥—Ä–µ—Å–∞ CDN,\n*   –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ CSP (content security policy) –∏ CORS (cross-origin resource sharing),\n*   –∫–ª—é—á–∏ API.\n\n\n\n## –í —á–µ–º, —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ, –ø—Ä–æ–±–ª–µ–º–∞\n\n–ú–Ω–æ–≥–∏–µ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–≤–∞–ª–∏–≤–∞—é—Ç –æ–±–µ –≥—Ä—É–ø–ø—ã –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –≤ –æ–¥–Ω—É –∫—É—á—É –∏ –ø—Ä–∏–≤—è–∑—ã–≤–∞—é—Ç –∫ –ø–∞—Ä–∞–º–µ—Ç—Ä—É **environment**, –∫–æ—Ç–æ—Ä—ã–π —É –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ —Ñ—Ä—ç–π–º–≤–æ—Ä–∫–æ–≤ –º–æ–∂–µ—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å –≤—Å–µ–≥–æ —Ç—Ä–∏ –∑–Ω–∞—á–µ–Ω–∏—è: `development`, `production` –∏ `test`.\n\n–í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ —Å—É—Ç–∏ –∏–º–µ–µ—Ç –≤—Å–µ–≥–æ –¥–≤–∞ —Ä–µ–∂–∏–º–∞ —Å–±–æ—Ä–∫–∏: production-–±–∏–ª–¥, –ø—Ä–∏–≤—è–∑–∞–Ω–Ω—ã–π –∫ production —Å–µ—Ä–≤–µ—Ä—É, –∏ development-–±–∏–ª–¥ –ø—Ä–∏–≤—è–∑–∞–Ω–Ω—ã–π –∫ –ª–æ–∫–∞–ª—å–Ω–æ–º—É —Å–µ—Ä–≤–µ—Ä—É –∏–ª–∏ –º–æ–∫—É (–∏–º–∏—Ç–∞—Ü–∏–∏ —Å–µ—Ä–≤–µ—Ä–∞).\n\n–°–¥–µ–ª–∞—Ç—å —Å–±–æ—Ä–∫—É –≤ development-—Ä–µ–∂–∏–º–µ, –Ω–æ –ø—Ä–∏–≤—è–∑–∞–Ω–Ω—É—é –∫ production —Å–µ—Ä–≤–µ—Ä—É, –∑–∞—Ç—Ä—É–¥–Ω–∏—Ç–µ–ª—å–Ω–æ: –¥–ª—è —ç—Ç–æ–≥–æ –ø—Ä–∏—Ö–æ–¥–∏—Ç—Å—è –≤—Ä–µ–º–µ–Ω–Ω–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥. –ê –≤–µ–¥—å —Ç–∞–∫–∞—è —Å–±–æ—Ä–∫–∞ –º–æ–∂–µ—Ç –æ—á–µ–Ω—å –≤—ã—Ä—É—á–∏—Ç—å, –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –æ—Ç–ª–∞–¥–∏—Ç—å –ø—Ä–æ–±–µ–º—É, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–æ—è–≤–ª—è–µ—Ç—Å—è –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ, –Ω–æ –Ω–µ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ.\n\n–û–±—Ä–∞—Ç–Ω–æ–µ —Ç–æ–∂–µ –ø–æ—Ä–æ–π –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ: —Å–¥–µ–ª–∞—Ç—å —Å–±–æ—Ä–∫—É –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞, –Ω–æ –≤ production —Ä–µ–∂–∏–º–µ. –≠—Ç–æ –Ω—É–∂–Ω–æ, –Ω–∞–ø—Ä–∏–º–µ—Ä, —á—Ç–æ–±—ã –∑–∞–º–µ—Ä–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏–ª–∏ —á—Ç–æ–±—ã –æ—Ç–ª–∞–¥–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—É, –≤–æ–∑–Ω–∏–∫–∞—é—â—É—é –≤–æ –≤—Ä–µ–º—è –º–∏–Ω–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏ —Ñ–∏–Ω–≥–µ—Ä–ø—Ä–∏–Ω—Ç–∏–Ω–≥–∞.\n\n–ê —Ö—É–∂–µ –≤—Å–µ–≥–æ —Ç–æ, —á—Ç–æ –∫–ª—é—á–∏ API —Ö—Ä–∞–Ω—è—Ç—Å—è –ø—Ä—è–º–æ –≤ –∫–æ–Ω—Ñ–∏–≥–µ –∏ –ø–æ–ø–∞–¥–∞—é—Ç –≤ —Å–∏—Å—Ç–µ–º—É –∫–æ–Ω—Ç—Ä–æ–ª—è –≤–µ—Ä—Å–∏–π, —á—Ç–æ —É–≥—Ä–æ–∂–∞–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–∏—Å–∞.\n\n\n\n## –ö–∞–∫ –Ω–∞–¥–æ –¥–µ–ª–∞—Ç—å\n\n–Ø —Ä–µ–∫–æ–º–µ–Ω–¥—É—é –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–∞–∫ –Ω–∞–∑—ã–≤–∞–µ–º—ã–µ *dotenv*-—Ñ–∞–π–ª—ã.\n\n–≠—Ç–æ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã, –∏–º–µ–Ω–∞ –∫–æ—Ç–æ—Ä—ã—Ö –Ω–∞—á–∏–Ω–∞—é—Ç—Å—è —Å `.env-`. –û–Ω–∏ —Å–æ–¥–µ—Ä–∂–∞—Ç –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ –≤–∏–¥–µ –ø–∞—Ä –∫–ª—é—á=–∑–Ω–∞—á–µ–Ω–∏–µ, –ø–æ –æ–¥–Ω–æ–π –Ω–∞ —Å—Ç—Ä–æ–∫—É:\n    \n```\nFOO=bar\nBAZ=quux\n```\n\n–í–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç —Å—á–∏—Ç—ã–≤–∞—Ç—å –Ω—É–∂–Ω—ã–π —Ñ–∞–π–ª –≤–æ –≤—Ä–µ–º—è —Å–±–æ—Ä–∫–∏ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏.\n\n–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –ø–æ-–∞–Ω–≥–ª–∏–π—Å–∫–∏ –Ω–∞–∑—ã–≤–∞—é—Ç—Å—è **environment variables**, —á—Ç–æ –¥–æ–±–∞–≤–ª—è–µ—Ç –ø—É—Ç–∞–Ω–∏—Ü—ã, —Ç–∞–∫ —á—Ç–æ –±—É–¥—å—Ç–µ –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω—ã. –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è ‚Äî —ç—Ç–æ —Ç–∞–∫–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å –∏–∑ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏.\n\n–í–æ—Ç, —á—Ç–æ –≤—ã –¥–æ–ª–∂–Ω—ã —Å–¥–µ–ª–∞—Ç—å:\n\n1.  –£–¥–∞–ª–∏—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≥—Ä—É–ø–ø—ã **deploy target** –∏–∑ –∫–æ–Ω—Ñ–∏–≥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.\n\n2.  –í—ã–Ω–µ—Å–∏—Ç–µ –∏—Ö –≤ dotenv-—Ñ–∞–π–ª—ã, –ø–æ –æ–¥–Ω–æ–º—É –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞: `.env-production`, `.env-staging`, `.env-sandbox`, `.env-local`, `.env-mock` –∏ —Ç. –¥. –ò—Ö –º–æ–∂–µ—Ç –±—ã—Ç—å —Å—Ç–æ–ª—å–∫–æ, —Å–∫–æ–ª—å–∫–æ –≤–∞–º –Ω—É–∂–Ω–æ, –∞ –Ω–µ —Ç–æ–ª—å–∫–æ production –∏ development.\n\n3.  –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–æ–±–∞–≤—å—Ç–µ dotenv-—Ñ–∞–π–ª—ã –≤ `.gitignore`, —á—Ç–æ–±—ã –∫–ª—é—á–∏ API –Ω–µ –∑–∞—Å–≤–µ—Ç–∏–ª–∏—Å—å –≤ —Å–∏—Å—Ç–µ–º–µ –∫–æ–Ω—Ç—Ä–æ–ª—è –≤–µ—Ä—Å–∏–π.\n\n4.  –ï—Å–ª–∏ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ \u003cabbr title=\"continuous integration\"\u003eCI\u003c/abbr\u003e, —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —ç—Ç–∏—Ö —Ñ–∞–π–ª–æ–≤ –º–æ–∂–Ω–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–∞–∂–¥–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞. –ù–∞ CodeShip, –Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π —Ä–∞–∑–¥–µ–ª –Ω–∞—Å—Ç—Ä–æ–µ–∫ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è \"deployment pipelines\".\n\n5.  –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ç–∞–∫, —á—Ç–æ–±—ã –ø—Ä–∏ —Å–±–æ—Ä–∫–µ –º–æ–∂–Ω–æ –±—ã–ª–æ —É–∫–∞–∑–∞—Ç—å, –∫–∞–∫–æ–π **deploy target** –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å. –ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –ø–ª–∞—Ç—Ñ–æ—Ä–º –∏–º–µ—é—Ç –¥–ª—è —ç—Ç–æ–≥–æ –±–∏–±–ª–∏–æ—Ç–µ–∫—É `dotenv`.\n\n–¢–µ–ø–µ—Ä—å **deploy target** –º–æ–∂–Ω–æ –≤—ã–±–∏—Ä–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ –æ—Ç **environment**, –ø–æ–ª—É—á–∞—è –ª—é–±–æ–µ –Ω—É–∂–Ω–æ–µ –≤–∞–º —Å–æ—á–µ—Ç–∞–Ω–∏–µ **deploy target** –∏ **environment**. –ù–∞–ø—Ä–∏–º–µ—Ä, —è —ç—Ç–æ –¥–µ–ª–∞—é —Ç–∞–∫:\n\n    DEPLOY_TARGET=local ember serve --environment=production\n\n–†–∞–∑—É–º–µ–µ—Ç—Å—è, –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ –≤—ã –º–æ–∂–µ—Ç–µ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å, —á—Ç–æ–±—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ **environment** –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π **deploy target**, —á—Ç–æ–±—ã –Ω–µ –ø—Ä–∏—Ö–æ–¥–∏–ª–æ—Å—å —É–∫–∞–∑—ã–≤–∞—Ç—å –∫–∞–∂–¥—ã–π —Ä–∞–∑.\n\n–í–Ω–∏–º–∞—Ç–µ–ª—å–Ω—ã–π —á–∏—Ç–∞—Ç–µ–ª—å –≤–æ–∑—Ä–∞–∑–∏—Ç: –∫—Ä—É–≥ –∑–∞–º–∫–Ω—É–ª—Å—è, –∏ **environment** —Å–Ω–æ–≤–∞ –æ–ø–µ—Ä–µ–¥–µ–ª—è–µ—Ç **deploy target**. –ó–∞ —á—Ç–æ –±–æ—Ä–æ–ª–∏—Å—å?\n\n–ü–æ-—É–º–æ–ª—á–∞–Ω–∏—é –≤—Å—ë –æ—Å—Ç–∞–Ω–µ—Ç—Å—è –∫–∞–∫ –±—ã–ª–æ, –Ω–æ —É –≤–∞—Å —Ç–µ–ø–µ—Ä—å –ø–æ—è–≤–∏–ª–∞—Å—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤ –Ω—É–∂–Ω—ã–π –º–æ–º–µ–Ω—Ç –≤—Ä—É—á–Ω—É—é –∑–∞–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å –ª—é–±–æ–µ —Å–æ—á–µ—Ç–∞–Ω–∏–µ **environment** –∏ **deploy target** ‚Äî –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥, –∞ –ø–æ—Ç–æ–º –æ—Ç–∫–∞—Ç—ã–≤–∞—Ç—å.\n\n\n\n## –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å dotenv –≤ Ember\n\nNpm-–±–∏–±–ª–∏–æ—Ç–µ–∫–∞ [dotenv](https://www.npmjs.com/package/dotenv) –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –≤ Ember –Ω–∞–ø—Ä—è–º—É—é. –û–¥–Ω–∞–∫–æ –µ—Å–ª–∏ –≤–∞–º –Ω—É–∂–Ω–æ —Å—á–∏—Ç—ã–≤–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã **deploy target** –∫–∞–∫ –≤ `config/environment.js`, —Ç–∞–∫ –∏ –≤ `ember-cli-build.js`, –ª–∏–±–æ –µ—Å–ª–∏ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ FastBoot, —Ç–æ –≤–æ—Å–ø–æ–ª—å–∑—É–π—Ç–µ—Å—å –∞–¥–¥–æ–Ω–æ–º [ember-cli-dotenv](https://github.com/fivetanley/ember-cli-dotenv).\n\n–°–æ–∑–¥–∞–π—Ç–µ –≤ –∫–æ—Ä–Ω–µ–≤–æ–π –ø–∞–ø–∫–µ –≤–∞—à–µ–≥–æ Ember-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è `.env`-—Ñ–∞–π–ª—ã, –ø–æ –æ–¥–Ω–æ–º—É –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞, –≤–∫–ª—é—á–∞—è –ª–æ–∫–∞–ª—å–Ω—ã–π –∏ –º–æ–∫-—Å–µ—Ä–≤–µ—Ä, –µ—Å–ª–∏ –≤—ã –∏—Ö –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ:\n\n    .env-production\n    .env-staging\n    .env-sandbox\n    .env-local\n    .env-mock\n\n–û—Å–æ–±–µ–Ω–Ω–æ –∫—Ä—É—Ç–æ, –µ—Å–ª–∏ —É –≤–∞—à–∏—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤ –µ—Å—Ç—å –∏–º–µ–Ω–∞ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ. –í —Ç–∞–∫–æ–º —Å–ª—É—á–∞–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç—Ç–∏ –∏–º–µ–Ω–∞ –≤ –Ω–∞–∑–≤–∞–Ω–∏—è—Ö `.env`-—Ñ–∞–π–ª–æ–≤.\n\n–í –∫–∞–∂–¥–æ–º —Ñ–∞–π–ª–µ —Ö—Ä–∞–Ω–∏—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã **deploy target** –≤ —Ç–∞–∫–æ–º –≤–∏–¥–µ:\n\n    MYAPP_BACKEND_API_URL=https://bravo.horns-and-hooves.com/api\n    MYAPP_BACKEND_API_VERSION=v18\n    MYAPP_IMAGES_CDN_URL=http://horns-and-hooves.cloudfront.net/bravo/images\n    MYAPP_GITHUB_API_KEY=jFViG9kZtY4NAJA8I65s\n\n`MYAPP` ‚Äî —ç—Ç–æ –æ—Ç—Å—ã–ª–∫–∞ –∫ –Ω–∞–∑–≤–∞–Ω–∏—é –≤–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –î–æ–±–∞–≤–ª—è—Ç—å –µ–≥–æ –ø–æ–ª–µ–∑–Ω–æ, —á—Ç–æ–±—ã –Ω–µ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∫–∞–∫—É—é-–ª–∏–±–æ –≤–Ω–µ—à–Ω—é—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é, –∫–æ—Ç–æ—Ä–∞—è –º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è –∏ –Ω–∞–≤–∑–∞–Ω–∏–µ –∫–æ—Ç–æ—Ä–æ–π –º–æ–∂–µ—Ç —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å –æ–¥–Ω–∏–º –∏–∑ –≤–∞—à–∏—Ö.\n\n–¢–µ–ø–µ—Ä—å –Ω–∞–º –Ω—É–∂–Ω–æ –¥–æ–±–∏—Ç—å—Å—è, —á—Ç–æ–±—ã `ember-cli-dotenv` –ø–æ–¥–≥—Ä—É–∂–∞–ª –Ω—É–∂–Ω—ã–π dotenv-—Ñ–∞–π–ª. –î–ª—è —ç—Ç–æ–≥–æ –≤–æ—Å–ø–æ–ª—å–∑—É–π—Ç–µ—Å—å —Ç–∞–∫–∏–º —Ç—Ä—é–∫–æ–º –≤ —Ñ–∞–π–ª–µ `config/environment.js`:\n\n```javascript\nconst fs = require('fs')\n\nconst environment   = process.env.EMBER_ENV || 'development'\nconst defaultTarget = environment === 'production' ? 'production' : 'localhost-4200'\nconst target        = process.env.DEPLOY_TARGET || defaultTarget\nconst dotEnvFile    = `./.env-${target}`\n\nif (fs.existsSync(dotEnvFile)) console.info(`using dotenv file: ${dotEnvFile}`)\nelse console.warn(`dot-env file not found: ${dotEnvFile}, assuming env vars are passed manually`)\n\n\n\nmodule.exports = function (env) {\n  return {\n    clientAllowedKeys : [\n      'MYAPP_BACKEND_API_URL',\n      'MYAPP_BACKEND_API_VERSION',\n      'MYAPP_IMAGES_CDN_URL',\n      'MYAPP_GITHUB_API_KEY',\n    ],\n    path : dotEnvFile,\n  }\n}\n```\n\n–¢–µ–ø–µ—Ä—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–∑ dotenv-—Ñ–∞–π–ª–∞ –ø–æ–ø–∞–¥—É—Ç –≤ —Ö—ç—à `process.env`, –∫–æ—Ç–æ—Ä—ã–π –≤—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ `config/environment.js` –∏ `ember-cli-build.js` —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:\n\n```javascript\n{\n  gitHubApiKey: process.env.MYAPP_GITHUB_API_KEY\n}\n```\n\n\u003cdiv class=\"exclamation\"\u003e\u003c/div\u003e\n\n\u003e –†–µ–∫–æ–º–µ–Ω–¥—É—é –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ —Å–æ–∑–¥–∞—Ç—å –≤ –≤–∞—à–µ–º Ember-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ —Å–µ—Ä–≤–∏—Å `config`, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–∑ `config/environment.js`. –≠—Ç–æ –¥–∞–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å computed properties –¥–ª—è —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤, –Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤–µ—Ä—Å–∏–∏ API –≤ –∞–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–∞.\n\n–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é, –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω—ã–π –≤—ã—à–µ –∫–≥–æ–¥ –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **deploy target** `production` –≤ **environment** `production` –∏ `localhost-4200` –≤ `development`. –û–¥—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏—è **deploy targets**, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –≤ –∫–æ–¥–µ, —á—Ç–æ–±—ã —Å–æ–≤–ø–∞–ª–∏ —Å –≤–∞—à–∏–º–∏.\n\n\n     ember s -prod   # –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `production` environment —Å `production` deploy target\n     ember s         # –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `development` environment —Å `localhost-4200` deploy target\n\n–í—ã –º–æ–∂–µ—Ç–µ —É–∫–∞–∑–∞—Ç—å, –∫–∞–∫–æ–π dotenv-—Ñ–∞–π–ª –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:\n\n    DEPLOY_TARGET=localhost-4200 ember s -prod   # –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `production` environment —Å `localhost-4200` deploy target\n    DEPLOY_TARGET=production ember s             # –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `development` environment —Å `production` deploy target\n\n\n## –í —Å–æ—á–µ—Ç–∞–Ω–∏–∏ —Å ember-cli-deploy\n\n`ember-cli-deploy` [–∏–º–µ–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—É—é –ø–æ–æ–¥–µ—Ä–∂–∫—É dotenv-—Ñ–∞–π–ª–æ–≤](http://ember-cli-deploy.com/docs/v1.0.x/using-env-for-secrets/), –æ–¥–Ω–∞–∫–æ –æ–Ω–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è –∫–æ–º–∞–Ω–¥ `ember deploy`, –≤ —Ç–æ –≤—Ä–µ–º—è –∫–∞–∫ –æ–ø–∏—Å–∞–Ω–Ω—ã–π –≤—ã—à–µ —Å–ø–æ—Å–æ–± –ø–æ–¥—Ö–æ–¥–∏—Ç –Ω–µ —Ç–æ–ª—å–∫–æ –¥–ª—è `ember deploy`, –Ω–æ –∏ –¥–ª—è `ember serve`, `ember build`, `ember test` –∏ —Ç. –ø.\n\n–ü—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å `ember-cli-deploy` —Å—Ç–æ–∏—Ç –æ–±—Ä–∞—Ç–∏—Ç—å –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –Ω—é–∞–Ω—Å–æ–≤.\n\n–í–æ-–ø–µ—Ä–≤—ã—Ö, –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è `ember-cli-deploy` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–ª–æ–≤–æ—Å–æ—á–µ—Ç–∞–Ω–∏–µ \"build environment\" –≤ –∫–∞—á–µ—Å—Ç–≤–µ —Å–∏–Ω–æ–Ω–∏–º–∞ **deploy target**, —á—Ç–æ –¥–æ–±–∞–≤–ª—è–µ—Ç –ø—É—Ç–∞–Ω–∏—Ü—ã.\n\n–í–æ-–≤—Ç–æ—Ä—ã—Ö, –≤ –∫–æ–Ω—Ñ–∏–≥–µ `config/deploy.js` –º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–±–æ—Ä–∫–∏ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç **deploy target**. –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø–µ—Ä–µ–∏–º–µ–Ω—É–π—Ç–µ **deploy targets** –≤ —ç—Ç–æ–º —Ñ–∞–π–ª–µ, –ø—Ä–∏–≤–µ–¥—è –∏—Ö –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –Ω–∞–∑–≤–∞–Ω–∏—è–º –≤–∞—à–∏—Ö dotenv-—Ñ–∞–π–ª–æ–≤.\n \n–í-—Ç—Ä–µ—Ç—å–∏—Ö, –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è `dev` –∏ `prod` –≤–º–µ—Å—Ç–æ `development` –∏ `production`. \n\n–í-—á–µ—Ç–≤–µ—Ä—Ç—ã—Ö, –æ–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ `ember-cli-deploy` —Ç–∞–∫–∂–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è `DEPLOY_TARGET`. –û–¥–Ω–∞–∫–æ –æ–Ω–∞ –ø–æ—á–µ–º—É-—Ç–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏–∑ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏.\n\n–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–µ —Ç–∞–∫ –Ω–µ–ª—å–∑—è:\n\n    DEPLOY_TARGET=production ember deploy\n\n–í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç—Å—è –ø–∏—Å–∞—Ç—å\n\n    ember deploy production\n    \n–ó–∞—á–µ–º –∂–µ –≤ `ember-cli-deploy` –≤–æ–æ–±—â–µ –Ω—É–∂–Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–∫—Ä—É–∂–µ–Ω–∏—è `DEPLOY_TARGET`? –ï—Å–ª–∏ —É –≤–∞—Å –≤–æ–∑–Ω–∏–∫–Ω–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å **deploy target** –≤ —Ñ–∞–π–ª–µ `ember-cli-build.js`, —Ç–æ –≤—ã –º–æ–∂–µ—Ç–µ –æ–±—Ä–∞—Ç–∏—Ç—Å—è –∫ –Ω–µ–π —Ç–∞–∫: `process.env.DEPLOY_TARGET`.\n\n–ë–µ–¥–∞ –≤ —Ç–æ–º, —á—Ç–æ —Ñ–∞–π–ª `config/dotenv.js` –æ—Ç—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ä–∞–Ω—å—à–µ, —á–µ–º –∫–æ–º–∞–Ω–¥–∞ `ember deploy production` –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç **environment** –≤ `production` –∏ –ø—Ä–∏—Å–≤–∞–∏–≤–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π `DEPLOY_TARGET`. \n\n–í—ã–π—Ç–∏ –∏–∑ –ø–æ–ª–æ–∂–µ–Ω–∏—è –º–æ–∂–Ω–æ, —É–∫–∞–∑—ã–≤–∞—è `DEPLOY_TARGET` —è–≤–Ω–æ, —á—Ç–æ–±—ã `config/dotenv.js` –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª –∏–º–µ–Ω–Ω–æ –µ–≥–æ.\n\n    DEPLOY_TARGET=production ember deploy production\n\n–ù–æ –∫–æ–º–∞–Ω–¥–∞ –ø–æ–ª—É—á–∞–µ—Ç—Å—è –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –≥—Ä–æ–º–æ–∑–¥–∫–æ–π. –ò–∑–±–µ–∂–∞—Ç—å –∏–∑–±—ã—Ç–æ—á–Ω–æ—Å—Ç–∏ –º–æ–∂–Ω–æ, –Ω–∞—É—á–∏–≤ –≤–∞—à `config/dotenv.js` –∑–∞–º–µ—á–∞—Ç—å –∫–æ–º–∞–Ω–¥—É `ember deploy production`:\n\n```js\nconst fs = require('fs')\n\nfunction getDeployTarget () {\n  return process.env.DEPLOY_TARGET || getDefaultDeployTarget()\n}\n\nfunction getDefaultDeployTarget () {\n  const environment =\n    process.env.EMBER_ENV\n    || deployEnv()\n    || 'development'\n\n  return environment === 'production' ? 'production' : 'localhost-4200'\n}\n\nfunction deployEnv () {\n  if (process.argv[2] === 'deploy' \u0026\u0026 process.argv[3] === 'prod') {\n    throw new Error(\"Command `ember deploy prod` is not supported. Please use `ember deploy production`.\")\n  } else if (process.argv[2] === 'deploy' \u0026\u0026 process.argv[3] === 'production') {\n    return 'production'\n  }\n}\n\n\n\nconst dotEnvFile   = `./.env-${getDeployTarget()}`\n\nif (fs.existsSync(dotEnvFile)) console.info(`Using dotenv file: ${dotEnvFile}`)\nelse console.warn(`dot-env file not found: ${dotEnvFile}, assuming env vars are passed manually`)\n\n\n\nmodule.exports = function (env) {\n  return {\n    clientAllowedKeys : [\n      'MYAPP_BACKEND_API_URL',\n      'MYAPP_BACKEND_API_VERSION',\n      'MYAPP_IMAGES_CDN_URL',\n      'MYAPP_GITHUB_API_KEY',\n    ],\n    path : dotEnvFile,\n  }\n}\n```\n\n–í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –∫–æ–º–∞–Ω–¥–∞ `ember deploy production` –∑–∞–¥–µ–π—Å—Ç–≤—É–µ—Ç dotenv-—Ñ–∞–π–ª `.env-production` –∏ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç **environment** –≤ `production`.\n\n–ï—Å–ª–∏ –∂–µ –≤–∞–º –ø–æ–Ω–∞–¥–æ–±–∏—Ç—å—Å—è –∑–∞–ª–∏—Ç—å –Ω–∞ production-—Å–µ—Ä–≤–µ—Ä —Å–±–æ—Ä–∫—É –±–µ–∑ –º–∏–Ω–∏—Ñ–∏–∫–∞—Ü–∏–∏, —Ç–æ –≤—ã –º–æ–∂–µ—Ç–µ –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –∫–æ–º–∞–Ω–¥–æ–π:\n\n    EMBER_ENV=development ember deploy production\n\n\n\n## –í–∞—à–µ –º–Ω–µ–Ω–∏–µ?\n\n–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø–æ–¥–µ–ª–∏—Ç–µ—Å—å —Å–≤–æ–∏–º–∏ —Å–æ–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏ –≤ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è—Ö!\n","summary":"–£ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ —Ñ—Ä—ç–π–º–≤–æ—Ä–∫–æ–≤ –µ—Å—Ç—å –ø–æ–Ω—è—Ç–∏–µ *environment*. –ú–Ω–æ–≥–∏–µ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø—Ä–∏–≤—è–∑—ã–≤–∞—é—Ç –∫ environment –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è, —á—Ç–æ –Ω–µ–≤–µ—Ä–Ω–æ.","image":null,"created":"2017-02-18T00:00:00.000Z","updated":"2017-12-24T00:00:00.000Z","hide-summary":false,"dependencies":null,"proficiency":"beginner"},"type":"posts"}}],"project-info":[],"project":[],"stackoverflow-user":[]}}</script>

    <script src="/assets/vendor-8fa103718f5228bbbf0e48134e96adcd.js" integrity="sha256-PNNj4JHm7k/vT170qeRgv+RPJpKZmN1JEiqQhed5LKg= sha512-YfbY2HN42G+vNVK15tKzxaGmwVHrPangnBAY5i38NtVF3MxdmBYx5eDd1/b5UGMbqE0CqQ6cE5LZiFKnVXvfAg==" ></script>
    <script src="/assets/lolma-us-be4b92b2e227e4641edf880f467b4f96.js" integrity="sha256-IdRe43Hzo86CxCFau0DEvc/EdTeTqKpZb4VCLtcdkyg= sha512-2oY/tj/JByJi8hKe+FV4ggaA9kOrTnE2Es6BLT3ZXKfNFCSuwdNY1pHsxewKrI4VXXVXxPr0QUdAUSDI1mOHmw==" ></script>

    
  </body>
</html>
